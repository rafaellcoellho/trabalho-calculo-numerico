# General template C project

Skeleton of a C application for when I need to start new projects, just clone
this repository.

## Prerequisites

First you need to clone this repository on your machine.

```
$ git clone https://github.com/rafaellcoellho/template-C-makefile.git
```

To fit the kernel linux coding style, the
[Uncrustify](https://github.com/uncrustify/uncrustify) program is used. To
install in distro based on Debian:

```
$ sudo apt-get install uncrustify
```

The static analysis of the code is done through cppcheck. It is open source and
the repository is here in [github](https://github.com/danmar/cppcheck). If you
use ubuntu 14+ or some distro based on it, you can install using:

```
$ sudo apt-get install cppcheck
```

The tests are done with [CppUTest](https://github.com/cpputest/cpputest). You
need to run the setup-cpputest.sh script in the scripts folder. It will
download the test framework inside the project tree.

```
$ cd scripts/
$ ./setup-cpputest.sh
```

Linux already comes with the necessary programs to compile the code, gcc and make.

## Directories

- build - All files generated by the compilation are here.
- cpputest - The cpputest project, downloaded and compiled by
`setup-cpputest.sh`.
- scripts - All scripts written in shell required for the environment.
- src - Where the application goes.
- src_tests - Code in c ++ to be tested with the cpputest framework.

## Usage

The make tool tries to run all the scripts needed to build, test, and analyze
the code.

```
make analysis       -> run static and dynamic analysis in src
make code_beautifier-> run uncrustify in src
make tests          -> test plataform independent in src
make tests_coverage -> run lcov
make runnable       -> generate the executable
make clean          -> clean the proj
```

## Authors

* **Rafael Coelho** - [rafaellcoellho](https://github.com/rafaellcoellho)
